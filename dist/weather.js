!function(e){var t={};function a(i){if(t[i])return t[i].exports;var n=t[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=t,a.d=function(e,t,i){a.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=1)}([function(e,t,a){var i,n,o;n=[],(o="function"==typeof(i=function(){return{get:function(e,t){var a,i=document.cookie,n=new RegExp("(^|)"+e+"=([^;]*)(;|$)");return(a=i.match(n))?!0===t?this.decodeStr(a[2]):a[2]:null},set:function(e,t,a,i,n,o){var r=encodeURIComponent(e)+"="+encodeURIComponent(t),s=null;a instanceof Date?r+=";expires="+a.toGMTString():((s=new Date).setTime(s.getTime()+2592e6),r+=";expires ="+s.toGMTString()),n&&(r+=";path="+n),i&&(r+=";domain="+i),o&&(r+=";secure"),document.cookie=r},decodeStr:function(e){var t,a="",i=e.length;for(t=0;t<i;t++){var n=e.charAt(t);if("+"==n)a+=" ";else if("%"==n){var o=e.substring(t+1,t+3);parseInt("0x"+o)>127?(a+=decodeURI("%"+e.substring(t+1,t+9)),t+=8):(a+=String.fromCharCode(parseInt("0x"+o)),t+=2)}else a+=n}return a},deleteCookie:function(e,t,a,i){var n=encodeURIComponent(e)+"="+encodeURIComponent("a"),o=new Date;o.setTime(o.getTime()-1e4),n+=";expires ="+o.toGMTString(),a&&(n+=";path="+a),t&&(n+=";domain="+t),i&&(n+=";secure"),document.cookie=n}}})?i.apply(t,n):i)===undefined||(e.exports=o)},function(e,t,a){e.exports=a(2)},function(e,t,a){a(3),a(8)},function(e,t,a){var i,n,o,r=a(4),s=a(0),c=a(5),l=a(7),h=(n=new r(i="chinasoWeather",.5),o={WEATHER_ICON:{"\u6674":["qing","qing-yellow"],"\u9634":["yin","yin"],"\u591a\u4e91":["duoyun","duoyun-yellow"],"\u5c0f\u5230\u4e2d\u96e8":["xiaodaozhongyu","xiaodaozhongyu"],"\u5c0f\u96e8":["xiaoyu","xiaoyu"],"\u5927\u96e8":["dayu","dayu"],"\u9635\u96e8":["zhenyu","zhenyu-yellow"],"\u4e2d\u96e8":["zhongyu","zhongyu"],"\u4e2d\u96ea":["zhongxue","zhongxue"],"\u66b4\u96ea":["baoxue","baoxue"],"\u66b4\u96e8":["baoyu","baoyu"],"\u5c0f\u96ea":["xiaoxue","xiaoxue"],"\u9635\u96ea":["zhenxue","zhenxue-yellow"],"\u96e8\u5939\u96ea":["yujiaxue","yujiaxue"],"\u5927\u66b4\u96e8":["dabaoyu","dabaoyu"],"\u5927\u96ea":["daxue","daxue"],"\u51bb\u96e8":["dongyu","dongyu"],"\u6d6e\u5c18":["fuchen","fuchen-yellow"],"\u96f7\u9635\u96e8":["leizhenyu","leizhenyu"],"\u96f7\u9635\u96e8\u4f34\u6709\u51b0\u96f9":["leizhenyubanyoubingbao","leizhenyubanyoubingbao"],"\u973e":["mai","mai-yellow"],"\u5f3a\u6c99\u5c18\u66b4":["qiangshachenbao","qiangshachenbao-yellow"],"\u6c99\u5c18\u66b4":["shachenbao","shachenbao-yellow"],"\u7279\u5927\u66b4\u96e8":["tedabaoyu","tedabaoyu"],"\u96fe":["wu","wu"],"\u626c\u5c18":["yangchen","yangchen-yellow"],"default":["qing","qing-yellow"]},WEATHER_ICON_URL:"http://n3.static.pg0.cn/fp/weather/dist/image/@icon@.png",WEATHER_DETAIL_ID:"weather_detail",WID_WRAP:"toolbarTopWeather",WID:"jToolbarWeather",WOUTER_ID:"chinaso_weather",OLD_WPREV_ID:"jToolbarUser"},{isExists:function(e,t){var a=e.indexOf(t);return{index:a,isTrue:-1!==a?1:0}},weatherCut:function(e){var t=this.isExists(e,"\u8f6c");return t.isTrue?e.substring(0,t.index):e},getWeatherData:function(){var e=this,t=n.get(i)||null;if(t&&"undefined"!=typeof t.version&&t.version==l)if(t)if((new Date).getTime()-t.expires>999)e.requestWeatherData();else{var a=s.get(c.cityCodeCookieName,!0);(a&&3===a.split(",").length?a.split(",")[2]:"")===t.cityExt.cityid?e.formatWeatherData(t):e.requestWeatherData()}else e.requestWeatherData();else e.requestWeatherData()},requestWeatherData:function(){c.getCurrentCity()},fillStorageWeatherData:function(e){e&&e.length&&((e=e[0]).version=l);var t=(new Date).getTime()+18e5;e.expires=+t,n.set(i,e)},formatWeatherData:function(e){var t,a,i,n,r,l,h,u="";if(e){e.length&&(e=e[0]),t=e.cityExt,a=e.forcast,(i=e.airQuality||{}).aqi>=0&&i.aqi<=50?(n="you",r="\u4f18"):i.aqi>50&&i.aqi<=100?(n="liang",r="\u826f"):i.aqi>100&&i.aqi<=150?(n="qingdu",r="\u8f7b\u5ea6\u6c61\u67d3"):i.aqi>150&&i.aqi<=200?(n="zhongdu",r="\u4e2d\u5ea6\u6c61\u67d3"):i.aqi>200&&i.aqi<=300?(n="zhongdu2",r="\u91cd\u5ea6\u6c61\u67d3"):i.aqi>300&&(n="yanzhong",r="\u4e25\u91cd\u6c61\u67d3");var d=encodeURIComponent(t.city+"\u5929\u6c14\u9884\u62a5"),f=encodeURIComponent(t.city+"\u7a7a\u6c14\u8d28\u91cf");h=$("#"+o.OLD_WPREV_ID);var y=a.weathers[0].weather;if(y=y.length<=4?y:y.split("\u8f6c")[0]||y.substring(0,5),r?(u='<em class="'+n+'">'+r+"</em>",l='<a rel="external nofollow"  target="_blank" href="http://www.chinaso.com/search/pagesearch.htm?q='+d+'">'+t.city+" "+y+" "+a.weathers[0].temp.replace("\u2103","")+'</a><a rel="external nofollow"  target="_blank" href="http://www.chinaso.com/search/pagesearch.htm?q='+f+'" class="air_quality">'+u+"</a>"):l='<a rel="external nofollow"  target="_blank" href="http://www.chinaso.com/search/pagesearch.htm?q='+d+'" style="margin-right:0;">'+t.city+" "+y+" "+a.weathers[0].temp.replace("\u2103","")+"</a>",h.length)$("#"+o.WID_WRAP).length||h.after('<div class="fl top_weather" id="'+o.WID_WRAP+'" log_action="598a758fec6e0f76098ffa69"><div class="top_data"><span id="'+o.WID+'"></span><i>|</i></div></div>');else{if(!$("#"+o.WOUTER_ID).length)return!1;$("#"+o.WID_WRAP).length||$("#"+o.WOUTER_ID).html('<div class="fl top_weather" id="'+o.WID_WRAP+'" log_action="598a758fec6e0f76098ffa69"><div class="top_data"><span id="'+o.WID+'"></span><i>|</i></div></div>')}var p=$("#"+o.WID_WRAP);$("#"+o.WID).html(l),p.find("#"+o.WEATHER_DETAIL_ID).length?this.updateWeatherDetail(e):(p.append(this.buildWeatherDetail()),this.updateWeatherDetail(e),this.toggleWeatherDetailWrap());var g=t.cityid;s.get(c.cityCodeCookieName)||(c.updateDefCityCode(/(\d{2})(\d{4})/.exec(g)[1]+"0000",/(\d{3})(\d{3})/.exec(g)[1]+"100",g),c.updateCookieCityInfo())}},buildWeatherDetail:function(){return'<div class="weather_con" id="'+o.WEATHER_DETAIL_ID+'" style="display:none"><i class="weather_horn"></i><a class="weather_seven" href="#" target="_blank">\u672a\u6765\u4e03\u5929\u5929\u6c14</a><div class="weather_title"><i></i><span class="weather_city"></span><a href="javascript:;" class="weather_change">[\u5207\u6362\u57ce\u5e02]</a></div><div class="weather_select" style="display:none"><select class="province" id="s_province"></select><select class="city" id="s_city"></select><select class="county" id="s_county"></select><input type="button" id="weatherSubmit" class="ok" value="\u66f4\u6362"></div><div class="weather_day"></div><div class="weather_list clearb"></div></div>'},updateWeatherDetail:function(e){var t=$("#"+o.WEATHER_DETAIL_ID),a=e.airQuality,i=e.cityExt,n=i.city,r="http://www.chinaso.com/search/pagesearch.htm?q="+encodeURIComponent(n+"\u5929\u6c14\u9884\u62a5"),s=e.forcast.weathers,c=s[0],l=this.getWheatherIcon(c.weather,1),h=i.url||"",u="";(a.aqi||a.quality&&"\u65e0"!==a.quality)&&(u='<span class="quality">',a.aqi&&(u+='<i class="quality_digit">'+a.aqi+"</i>"),a.quality&&"\u65e0"!==a.quality&&(u+='<i class="quality_degree">'+a.quality+"</i>"),u+="</span>");var d=t.find(".weather_seven");h?d.attr("href",h):d.hide(),t.find(".weather_title").find("i").html(this.dealWheatherDate(c.date)+"-"),t.find(".weather_title").find(".weather_city").html(n),t.find(".weather_day").html('<a href="'+r+'" target="_blank"><div class="weather_day_l"><img src="'+l+'"><span class="feature">'+c.weather.substring(0,8)+'</span></div><div class="weather_day_wrap"><span class="weather">'+c.temp.replace("\u2103","")+"</span>"+u+'<span class="wind">'+c.fl+"</span></div></a></div>");for(var f=s.slice(1),y="",p="\u660e\u5929",g=0,w=f.length;g<w;g++){var v=f[g],C=this.getWheatherIcon(v.weather);1===g&&(p="\u540e\u5929"),g>=2&&(p=this.dealWheatherDate(v.date)),y+='<a href="'+r+'" target="_blank"><div>'+p+'</div><img src="'+C+'"><div>'+v.weather+"</div><div>"+v.temp.replace("\u2103","")+"</div></a>"}t.find(".weather_list").html(y)},toggleWeatherDetailWrap:function(){var e=this,t=$("#"+o.WID_WRAP),a=null,i=$("#"+o.WEATHER_DETAIL_ID);t.on("mouseenter",function(){clearTimeout(a),a=setTimeout(function(){e.showWeatherDetail()},200)}).on("mouseleave",function(t){if((window.navigator.userAgent.toUpperCase().indexOf("FIREFOX")>-1||window.ActiveXObject||"ActiveXObject"in window)&&(t=t||window.event,$target=$(t.target),"s_province"===$target.attr("id")||"s_city"===$target.attr("id")||"s_county"===$target.attr("id")||"s_province"===$target.parent().attr("id")||"s_city"===$target.parent().attr("id")||"s_county"===$target.parent().attr("id")))return!1;clearTimeout(a),a=setTimeout(function(){e.hideWeatherDetail()},200)}),i.find(".weather_change").on("click",function(){i.find(".weather_select").show()}).one("click",function(){c.initCityChange()}),i.find("#weatherSubmit").on("click",function(){if(!$("#s_county").find("option:selected").text())return alert("\u8bf7\u9009\u62e9\u4e00\u4e2a\u57ce\u5e02"),!1;c.updateDefCityCode($("#s_province").val(),$("#s_city").val(),$("#s_county").val()),c.updateCookieCityInfo(),e.hideWeatherDetail(),c.getCurrentCity()})},showWeatherDetail:function(){$("#"+o.WEATHER_DETAIL_ID).show()},hideWeatherDetail:function(){$("#"+o.WEATHER_DETAIL_ID).hide().find(".weather_select").hide()},dealWheatherDate:function(e){var t=$.trim(e).replace(/-0/g,"-").split(" ")[0].split("-");return t[1]+"\u6708"+t[2]+"\u65e5"},getWheatherIcon:function(e,t){return t=t||0,e=e.split("\u8f6c")[0],o.WEATHER_ICON_URL.replace("@icon@",o.WEATHER_ICON[e]?o.WEATHER_ICON[e][t]:o.WEATHER_ICON["default"][t])}});h.getWeatherData(),window.updateWheatherState=function(e){h.fillStorageWeatherData(e),h.formatWeatherData(e)}},function(e,t,a){var i,n,o;n=[],(o="function"==typeof(i=function(){function e(e,t,a){var i=this;i.fileName=e||"",i.expiresDay=t||0,i.isIE=-1!=navigator.userAgent.indexOf("MSIE")&&!window.opera,i.isInit=!1,i.target=document.documentElement,i.type=a||"json",i.init()}return e.prototype={init:function(){!window.localStorage&&this.isIE&&(this.isInit||(document.documentElement.addBehavior("#default#userdata"),this.isInit=!0))},set:function(e,t,a){var i=this;if("json"==(a=a||i.type)&&(t=JSON.stringify(t)),window.localStorage)localStorage.setItem(e,t);else if(i.isIE){var n=i.target,o=i.fileName;n.load(o),n.setAttribute(e,t),n.expires=new Date((new Date).getTime()+864e5*i.expiresDay).toUTCString(),n.save(o)}},get:function(e,t){var a=this;if(t=t||a.type,window.localStorage)return"json"==t?JSON.parse(localStorage.getItem(e)):localStorage.getItem(e);if(a.isIE){var i=a.target,n=a.fileName;try{return i.load(n),"json"==t?JSON.parse(a.target.getAttribute(e)):a.target.getAttribute(e)}catch(o){return null}}},remove:function(e){if(window.localStorage)localStorage.removeItem(e);else if(this.isIE){var t=this.target,a=this.fileName;t.load(a),t.removeAttribute(e),t.expires=new Date((new Date).getTime()-1).toUTCString(),t.save(a)}}},e})?i.apply(t,n):i)===undefined||(e.exports=o)},function(e,t,a){var i=a(6).$jsonp,n=a(0),o={cities:["s_province","s_city","s_county"],seachURL:"http://www.chinaso.com/search/pagesearch.htm?q=",cityURL:"http://www.chinaso.com/weather/city",defCityCode:["110000","110100","110000"],cityCodeCookieName:"CITY_CODE",getWeatherURL:"http://www.chinaso.com/weather/query/updateWheatherState",getCurrentCity:function(){new Date;var e="",t=n.get(this.cityCodeCookieName,!0),a=t?t.split(","):[],o=a.length&&a[2]?a[2]:"",r=this.getWeatherURL;e=window["HOST-CITY"]&&window["HOST-CITY"][location.host.split(".")[0]]||"",o&&(e=o),i(r=r+"?city="+e,null,!0)},initCityChange:function(){var e=this,t=e.defCityCode,a=n.get(e.cityCodeCookieName,!0);if(a&&a.length){var i=a.split(",");e.updateDefCityCode(i[0],i[1],i[2])}e.sendCityJsonP("0",0),e.sendCityJsonP(t[0],1),e.sendCityJsonP(t[1],2)},updateDefCityCode:function(e,t,a){var i=this;i.defCityCode[0]=e||i.defCityCode[0],i.defCityCode[1]=t||i.defCityCode[1],i.defCityCode[2]=a||i.defCityCode[2]},updateCookieCityInfo:function(){var e=new Date;e.setFullYear(2099),n.set(this.cityCodeCookieName,this.defCityCode.join(","),e,document.domain)},sendCityJsonP:function(e,t){var a=this.cityURL+"/cityJsonCallback"+t+"?areaid="+e;i(a,null,!0)},cityJsonCallback:function(e,t){var a=this,i=$("#"+a.cities[t]),n=e&&e.length||0,o="";if(n){for(var r=0;r<n;r++){var s=e[r];o+='<option value="'+s.areaid+'">'+s.namecn+"</option>"}i.html(o),"0"===t?(setTimeout(function(){a.setChoosedCity()},200),a.initProvChange()):a.bindCityChange()}},setChoosedCity:function(){for(var e=this.cities,t=this.defCityCode,a=0,i=e.length;a<i;a++)$("#"+e[a]).val(t[a])},initProvChange:function(){var e=this,t=e.cities;$("#"+t[0]).on("change",function(){var t=$(this).val(),a=t.replace(/0000/,"0100");e.sendCityJsonP(t,1),e.sendCityJsonP(a,2)})},bindCityChange:function(){var e=this,t=e.cities,a=$("#"+t[1]),i=$("#"+t[2]);a.off("change").on("change",function(){var t=$(this).val();e.sendCityJsonP(t,2)}),i.off("change").on("change",function(){$(this).val()})}};window.cityJsonCallback0=function(e){o.cityJsonCallback(e,"0")},window.cityJsonCallback1=function(e){o.cityJsonCallback(e,"1")},window.cityJsonCallback2=function(e){o.cityJsonCallback(e,"2")},e.exports=o},function(e,t){e.exports={jsonp:function(e,t,a){var i=document.createElement("script"),n=document.getElementsByTagName("script")[0];i.type="text/javascript",i.src=t?e+(-1==e.indexOf("?")?"?":"&")+"jsonpcallback="+t:e,n.parentNode.insertBefore(i,n),"function"==typeof a&&(i.readyState?i.onreadystatechange=function(){var e=i.readyState;"loaded"!==e&&"complete"!==e||(i.onreadystatechange=null,a())}:i.onload=function(){a()})},$jsonp:function(e,t,a,i){return $.ajax({type:"get",url:e,dataType:"jsonp",contentType:"application/x-www-form-urlencoded;charset=utf-8",timeout:3e4,jsonp:t||"jsonpcallback",cache:a||!1,async:i||!0})}}},function(e,t){var a=window.WEATHER_STORAGE_VERSION?window.WEATHER_STORAGE_VERSION:"1.0.2";e.exports=a},function(e,t){}]);